.PHONY = all clean help

TARGET = scrape
SRCDIR = src
INCDIR = include

SRC = $(wildcard $(SRCDIR)/*.cpp)
OBJ = $(SRC:.cpp=.o)

LDLIBS = -lntl -lgmp -lm
CXXFLAGS = -Wall -Wextra -pthread -O3
# CXXFLAGS = -Wall -Wextra -pthread -g
INCLUDES = -I$(INCDIR)

all: $(TARGET)

$(TARGET): $(OBJ)
	$(CXX) $(CXXFLAGS) -o $@ $^ $(LDLIBS)

ffte.o: ../include/ffte.hpp

pvss.o: ../include/pvss.hpp

main.o: ../include/pvss.hpp ../include/ffte.hpp

%.o: %.cpp
	$(CXX) $(CXXFLAGS) -c -o $@ $^ $(INCLUDES)

clean:
	$(RM) $(OBJ) *~ $(TARGET)

help:
			@echo "Usage:"
			@echo "  make [all]    Build the software"
			@echo "  make clean    Remove all files generated by make"
			@echo "  make help     Display the main targets of this Makefile with a short description"
